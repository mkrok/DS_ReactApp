
<!DOCTYPE html> 
<html>

  <head>
	<title>Introduction</title> 
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
<style type="text/css">
  .samp-inline {
    padding-bottom: 2px;
  }
</style>
  </head> 

  <body> 

    <div data-role="page" data-theme="a">

      <div data-role="header" data-position="fixed">
		<a href='#' class='ui-btn-left' data-icon='arrow-l' onclick="history.back(); return false">Back</a>
		<h1>Introduction</h1>
		<a class="ui-btn-right" data-icon="gear" data-iconpos="notext" onclick="tglTheme()"></a>
      </div><!-- /header -->

      <div data-role="content">

        <h3>Hello Music</h3>
        <br>
        <div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>Begin</h3>
          <div id="examp1" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
            <b id="snip1"  style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              &nbsp;&nbsp;synth = music.CreateSynth()<br>
              <br>
              &nbsp;&nbsp;synth.PlayStopTone(<span class="token string">"C4"</span>, <span class="token string">"8n"</span>)<br>
            </b>
            }<br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip1)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp1)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp1)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>
		
		<br>

		<b>CreateSynth</b>
		<p>Synth is a basic synthesizer with a single oscillator</p>

		<br>
			
		<h3>PlayTone - StopTone</h3>
		<p>PlayTone starts the note (the amplitude is rising), and StopTone is when the amplitude is going back to 0 (i.e. note off).</p>

        <br>
		<div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>PlayTone - Stop Tone</h3>
          <div id="examp2" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
            <b id="snip2"  style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              &nbsp;&nbsp;synth = music.CreateSynth()<br>
              <br>
              &nbsp;&nbsp;now = music.Now()<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// play the tone immediately</span></br>
              &nbsp;&nbsp;synth.PlayTone(<span class="token string">"C4"</span>, now)<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// wait one second before tone the stop</span></br>
              &nbsp;&nbsp;synth.StopTone(now + 1)<br>
            </b>
            }<br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip2)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp2)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp2)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>

		<br>

	    <h3>PlayStopTone</h3>
	    <p>PlayStopTone is a combination of PlayTone and StopTone</p>
	    <p>The first argument to the note which can either be a frequency in hertz (like 440) or as “pitch-octave” notation (like "D#2").</p>
	    <p>The second argument is the duration that the note is held. This value can either be in seconds, or as a tempo-relative value.</p>
	    <p>The third (optional) argument of StartStopTone is when along the AudioContext time the note should play. It can be used to schedule events in the future.</p>

        <br>
	    <div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>PlayStopTone</h3>
          <div id="examp3" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
            <b id="snip3"  style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              &nbsp;&nbsp;synth = music.CreateSynth()<br>
              <br>
              &nbsp;&nbsp;now = music.Now()<br>
              <br>
              &nbsp;&nbsp;synth.PlayStopTone(<span class="token string">"C4"</span>, <span class="token string">"8n"</span>, now)<br>
              &nbsp;&nbsp;synth.PlayStopTone(<span class="token string">"E4"</span>, <span class="token string">"8n"</span>, now + 0.5)<br>
              &nbsp;&nbsp;synth.PlayStopTone(<span class="token string">"G4"</span>, <span class="token string">"8n"</span>, now + 1)<br>
            </b>
            }<br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip3)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp3)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp3)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>
		
		<br>
		
		<h3>Time</h3>
		<p>Web Audio has advanced, sample accurate scheduling capabilities. The AudioContext time is what the Web Audio API uses to schedule events, starts at 0 when the page loads and counts up in seconds.</p>
		<p>Music.now() gets the current time of the AudioContext.</p>
		
		<br>
		<div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>Time</h3>
          <div id="examp4" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
              &nbsp;&nbsp;app._124()<br>
              <b id="snip4"  style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              <br>
              &nbsp;&nbsp;setInterval(interval, 100)<br>
              </b>
              }<br>
              <br>
              <span class="token keyword">function</span> interval()<br>
              {<br>
              &nbsp;&nbsp;console.log(music.Now())<br>
              }<br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip4)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp4)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp4)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>
		
		<p>Music abstracts away the AudioContext time. Instead of defining all values in seconds, any method which takes time as an argument can accept a number or a string. For example <span class="token string">"4n"</span> is a quarter-note, <span class="token string">"8t"</span> is an eighth-note triplet, and <span class="token string">"1m"</span> is one measure.</p>
		
		<br>
		
		<h3>Scheduling</h3>
		
		<b>Transport</b>
		
		<p>music.Transport is the main timekeeper. Unlike the AudioContext clock, it can be started, stopped, looped and adjusted on the fly. You can think of it like the arrangement view in a Digital Audio Workstation or channels in a Tracker.</p>
		<p>Multiple events and parts can be arranged and synchronized along the Transport. music.Loop is a simple way to create a looped callback that can be scheduled to start and stop.</p>
		
		<br>
		<div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>Time</h3>
          <div id="examp5" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
              <b id="snip5"  style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              &nbsp;&nbsp;synth = music.CreatePolySynth(<span class="token string">"Synth"</span>)<br>
              <br>
              &nbsp;&nbsp;now = music.Now()<br>
              <br>
              &nbsp;&nbsp;synth.PlayTone(<span class="token string">"D4"</span>, now)<br>
              &nbsp;&nbsp;synth.PlayTone(<span class="token string">"F4"</span>, now + 0.5)<br>
              &nbsp;&nbsp;synth.PlayTone(<span class="token string">"A4"</span>, now + 1)<br>
              &nbsp;&nbsp;synth.PlayTone(<span class="token string">"C5"</span>, now + 1.5)<br>
              &nbsp;&nbsp;synth.PlayTone(<span class="token string">"E5"</span>, now + 2)<br>
              &nbsp;&nbsp;synth.StopTone([<span class="token string">"D4"</span>, <span class="token string">"F4"</span>, <span class="token string">"A4"</span>, <span class="token string">"C5"</span>, <span class="token string">"E5"</span>], now + 4)<br>
            </b>
            }<br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip5)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp5)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp5)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>
		
		<p>Since Javascript callbacks are not precisely timed, the sample-accurate time of the event is passed into the callback <span class="token keyword">function</span>. Use this time value to schedule the events.</p>
		
		<br>
		
		<h3>Instruments</h3>
		<p>There are numerous synths to choose from including FM, AM and Noise.</p>
		<p>All of these instruments are monophonic (single voice) which means that they can only play one note at a time.</p>
		<p>To create a polyphonic synthesizer, use CreatePolySynth, which accepts a monophonic synth as its first parameter and automatically handles the note allocation so you can pass in multiple notes. The API is similar to the monophonic synths, except StopTone must be given a note or array of notes.</p>
		
		<br>
		<div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>Instruments</h3>
          <div id="examp6" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
              <b id="snip6"  style="font-size:100%">
              &nbsp;&nbsp; music = app._386()<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// Create two monophonic synths</span></br>
              &nbsp;&nbsp;synthA = music.CreateSynth(<span class="token string">"FM"</span>)<br>
              &nbsp;&nbsp;synthB = music.CreateSynth(<span class="token string">"AM"</span>)<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// Play a note every quarter-note</span></br>
              &nbsp;&nbsp;music.Loop(loopA_OnLoop, <span class="token string">"4n"</span>).Start(0)<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// Play another note every off quarter-note, by starting it "8n"</span></br>
              &nbsp;&nbsp;music.Loop(loopB_OnLoop, <span class="token string">"4n"</span>).Start(<span class="token string"><span class="token string">"8n"</span></span>)<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// The loops start when the Transport is started</span></br>
              &nbsp;&nbsp;music.StartTransport()<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// Ramp up to 800 bpm over 10 seconds</span></br>
              &nbsp;&nbsp;music.RampToTransport(800, 10)<br>
              </b>
              }<br>
              
              <br>
              
              <span class="token keyword">function</span> loopA_OnLoop(time)<br>
              {<br>
              &nbsp;&nbsp;synthA.PlayStopTone(<span class="token string">"C2"</span>, <span class="token string">"8n"</span>, time)<br>
              }<br>
              
              <br>
              
              <span class="token keyword">function</span> loopB_OnLoop(time)<br>
              {<br>
              &nbsp;&nbsp;synthB.PlayStopTone(<span class="token string">"C4"</span>, <span class="token string">"8n"</span>, time)<br>
              }
              
              <br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip6)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp6)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp6)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		</br>
		
		<br>
	    
	    <h3>Sampler</h3>
	    <p>Sound generation is not limited to synthesized sounds. You can also load a sample and play that back in a number of ways. CreatePlayer is one way to load and play back an audio file.</p>
	    
	    <br>
        <div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>CreatePlayer</h3>
          <div id="examp7" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
            <b id="snip7" style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              &nbsp;&nbsp;player = music.CreatePlayer("/Docs/Music/Snd/gong.mp3")<br>
              <br>
              &nbsp;&nbsp;music.SetOnLoaded(music_OnLoaded)<br>
              </b>
              }<br>
              <br>
              <span class="token keyword">function</span> music_OnLoaded()<br>
              {<br>
              &nbsp;&nbsp;player.Play()<br>
              }</br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip7)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp7)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp7)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>
		
		<p>music.SetOnLoaded when all audio files are loaded. It’s a helpful shorthand instead of waiting on each individual audio buffer’s onload event to resolve.</p>
		
		<br>
	    
	    <h3>CreateSampler</h3>
	    <p>Multiple samples can also be combined into an instrument. If you have audio files organized by note, CreateSampler will pitch shift the samples to fill in gaps between notes. So for example, if you only have every 3rd note on a piano sampled, you could turn that into a full piano sample.</p>
        <p>Unlike the other synths, CreateSampler is polyphonic so doesn’t need to be passed into CreatePolySynth.</p>
        
        <br>
        <div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>CreateSampler</h3>
          <div id="examp8" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
            <b id="snip8" style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              <br>
              &nbsp;&nbsp;sampler = music.CreateSampler({<br>
              &nbsp;&nbsp;&nbsp;files: {<br>
              &nbsp;&nbsp;&nbsp;&nbsp;A1: <span class="token string">"a1.mp3"</span>,<br>
              &nbsp;&nbsp;&nbsp;&nbsp;A2: <span class="token string">"a2.mp3"</span><br>
              &nbsp;&nbsp;&nbsp;},<br>
              &nbsp;&nbsp;&nbsp;folder: <span class="token string">"/Docs/Music/Snd"</span><br>
              &nbsp;&nbsp;})<br>
              &nbsp;&nbsp;music.SetOnLoaded(music_OnLoaded)<br>
              </b>
            }<br>
            <br>
            <span class="token keyword">function</span> music_OnLoaded()<br>
             {<br>
             &nbsp;&nbsp;sampler.PlayStopTone([<span class="token string">"C1"</span>, <span class="token string">"E1"</span>, <span class="token string">"G1"</span>, <span class="token string">"B1"</span>], 0.5)<br>
             }<br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip8)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp8)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp8)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>
	    
	    <h3>Effects</h3>
	    <p>In the above examples, the sources were always connected directly to the Destination, but the output of the synth could also be routed through one (or more) effects before going to the speakers.</p>
	    
	    <br>
        <div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>Begin example with Distortion effect</h3>
          <div id="examp9" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
            <b id="snip9"  style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              &nbsp;&nbsp;synth = music.CreateSynth(<span class="token string">"Synth"</span>, <span class="token keyword">null</span>, <span class="token keyword">true</span>)<br>
              <br>
              &nbsp;&nbsp;synth.Connect(music.Distortion(0.8))<br>
              <br>
              &nbsp;&nbsp;synth.PlayStopTone(<span class="token string">"A1"</span>, <span class="token string">"8n"</span>)<br>
            </b>
            }<br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip9)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp9)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp9)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>
	    
	    <br>
		
		<p>The connection routing is very flexible. Connections can run serially or in parallel.</p>
		
		<br>
        <div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>Begin example with multiple effect</h3>
          <div id="examp10" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
            <b id="snip10"  style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              &nbsp;&nbsp;synth = music.CreateSynth(<span class="token string">"Synth"</span>, <span class="token keyword">null</span>, <span class="token keyword">true</span>)<br>
              <br>
              &nbsp;&nbsp;synth.Connect(music.Filter(400, <span class="token string">"lowpass"</span>), music.FeedbackDelay(0.125, 0.5))<br>
              <br>
              &nbsp;&nbsp;synth.PlayStopTone(<span class="token string">"A1"</span>, <span class="token string">"8n"</span>)<br>
            </b>
            }<br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip10)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp10)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp10)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>
	    
	    <p>Multiple nodes can be connected to the same input enabling sources to share effects. music.Gain is very useful utility node for creating complex routing.</p>
	    
	    <br>
		
		<h3>Signals</h3>
		<p>Like the underlying Web Audio API, Music is built with audio-rate signal control over nearly everything. This is a powerful feature which allows for sample-accurate synchronization and scheduling of parameters.</p>
		<p>Signal properties have a few built in methods for creating automation curves.</p>
		<p>For example, the frequency parameter on Oscillator is a Signal so you can create a smooth ramp from one frequency to another.</p>
		
		<br>
        <div data-role="collapsible" data-collapsed="true"  data-mini="true" data-theme="a" data-content-theme="b">
          <h3>Oscillator</h3>
          <div id="examp11" style="font-size:70%">
            <br>
            <span class="token keyword">function</span> OnStart()<br>
            {<br>
            <b id="snip11"  style="font-size:100%">
              &nbsp;&nbsp;music = app._386()<br>
              &nbsp;&nbsp;osc = music.CreateOscillator()<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// start at "C4"</span><br>
              &nbsp;&nbsp;osc.SetFrequency(<span class="token string">"C4"</span>)<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// ramp to "C2" over 2 seconds</span><br>
              &nbsp;&nbsp;osc.SetFrequencyRampTo(<span class="token string">"C2"</span>, 2)<br>
              <br>
              &nbsp;&nbsp;<span class="token comment">// start the oscillator for 2 seconds</span><br>
              &nbsp;&nbsp;osc.Play()<br>
              <br>
              &nbsp;&nbsp;osc.Stop(<span class="token string">"+3"</span>)<br>
            </b>
            }<br>
            <br>
          </div>
          <div name="divCopy" align="right">
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(snip11)">&nbsp;&nbsp;Copy&nbsp;&nbsp;</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="copy(examp11)">Copy All</a>
			<a href="#" data-role="button" data-mini="true" data-inline="true" onclick="demo(examp11)">&nbsp;&nbsp;&nbsp;Run&nbsp;&nbsp;&nbsp;</a>
          </div>
		</div>
		<br>
          
      </div><!-- /content -->
      
    </div><!-- /page -->

  </body>
</html>